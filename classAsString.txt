importorg.junit.jupiter.api.BeforeEach;
importorg.junit.jupiter.api.Test;

importjava.io.IOException;
importjava.nio.file.Files;
importjava.nio.file.Paths;
importjava.util.Collections;

importstaticorg.junit.jupiter.api.Assertions.assertEquals;

publicclassSimpleTest{

privateTestDataProducertestDataProducer;

@BeforeEach
publicvoidinitTestDataProducer(){
testDataProducer=newTestDataProducer();
}


@Test
voidshouldFetchSomeData()throwsIOException{
//when
StringsomeString=testDataProducer.getSomeString();
Files.write(Paths.get("shouldFetchSomeData.txt"),Collections.singleton(someString));

//then
assertEquals(Files.readString(Paths.get("src/test/resources/responses/cmt/patients/pd/SOME-STRING-TEST-DATA-8987.txt")),
someString);
}
}
